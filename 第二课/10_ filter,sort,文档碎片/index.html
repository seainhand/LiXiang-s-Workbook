<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>filter,sort,文档碎片</title>
</head>
<body>
	
	<h3>污染城市列表</h3>
	<ul id="aqi-list">
	<!--   
	    <li>第一名：福州（样例），10</li>
	  	<li>第二名：福州（样例），10</li> -->
	</ul>

	<script type="text/javascript">

	var aqiData = [
	  ["北京", 90],
	  ["上海", 50],
	  ["福州", 10],
	  ["广州", 50],
	  ["成都", 90],
	  ["西安", 100]
	];

	(function () {

	  /*
	  在注释下方编写代码
	  遍历读取aqiData中各个城市的数据
	  将空气质量指数大于60的城市显示到aqi-list的列表中
	  */
	 
	 	//数组的filter方法用于遍历
		var  listData = aqiData.filter(function(item) {
			return item[1] > 60;
			//数组的sort方法，用于排序(冒泡排序)
		}).sort(function(pre,next){
			return next[1] - pre[1];
		});
		//filter+sort = 数组排序（冒泡）

		//一次又一次的appentd太占资源用Fragment文档碎片做载体加入
		var lisFragment = document.createDocumentFragment();
		for (var i = 0; i < listData.length; i++) {
			var li = document.createElement('li');
			//数组的join方法用来用参数分割并输出数组里的所有数据
			var text = document.createTextNode('第'+(i+1)+'名:'+listData[i].join(','));
			li.appendChild(text);
			lisFragment.appendChild(li);
		};
		document.getElementById('aqi-list').appendChild(lisFragment);
	})();

	</script>
</body>
</html>